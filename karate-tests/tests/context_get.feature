# ********RoostGPT********

# Test generated by RoostGPT for test testing-karate-test using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /context_get for http method type GET 
# RoostTestHash=ae15e2262e
# 
# 

# ********RoostGPT********
Feature: List Contexts API

  Background:
    * def baseURL = karate.properties['CIRCLECI_API_BASE_URL'] || karate.properties['CIRCLECI_API_BASE_URL']
    * url baseURL
    * configure report = false
    * def authToken = karate.properties['Circle-Token']
    * configure headers = { Circle-Token: '#(authToken)', Accept: 'application/json' }

  Scenario Outline: Verify list contexts API with various query parameters and validate responses
    Given path 'context'
    And param 'owner-id' = <owner_id>
    And param 'owner-slug' = <owner_slug>
    And param 'owner-type' = <owner_type>
    And param 'page-token' = <page_token>
    When method GET
    Then status <expected_status>
    And match response.items == '#[] Context'
    And match each response.items[*].id == '#uuid'
    And match each response.items[*].name == '#string'
    And match each response.items[*].created_at == '#date-time'
    And match response.next_page_token == '#? _ == null || typeof _ == "string"'

    Examples:
      | owner_id                               | owner_slug | owner_type     | page_token | expected_status |
      | 'c65b68ef-e73b-4bf2-be9a-7a322a9df150' | null       | 'organization' | null       |             200 |
      | null                                   | 'my-org'   | 'organization' | 'next1234' |             200 |
      | null                                   | null       | 'accounts'     | null       |             200 |
      | null                                   | null       | null           | null       |             200 |

  Scenario: Verify default error response
    Given path 'context'
    And param 'owner-id' = 'invalid-id'
    When method GET
    Then assert responseStatus != 200
    And match response.message == '#string'

  Scenario: Validate strict schema properties for successful response
    Given path 'context'
    And param 'owner-id' = 'c65b68ef-e73b-4bf2-be9a-7a322a9df150'
    When method GET
    Then status 200
    And match response == '#object'
    And match response.items == '#array'
    And match response.items[0].id == '#uuid'
    And match response.items[0].name == '#string'
    And match response.items[0].created_at == '#date-time'
    And match response.next_page_token == '#? _ == null || typeof _ == "string"'
