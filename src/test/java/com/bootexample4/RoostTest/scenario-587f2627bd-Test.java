/*
Test generated by RoostGPT for test testing-integration-test using AI Type Open AI and AI Model gpt-4

{
  background: 'Given the base URL is "http://localhost:8080"',
  rule: null,
  scenario: 'Create my account \n' +
    '    When the client sends a POST request "/accounts" with the accounts_body payload\n' +
    '    Then create an account with the specified informatio\n' +
    '    And verify the account created using GET request for "/me"',
  title: 'Create my account'
}

*/
package com.bootexample4.RoostTest;

import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

public class CreateMyAccountTest {
    @Test
    public void createMyAccount() {
        RestAssured.baseURI = System.getenv("API_HOST");
        String payload = "{...}"; // Add the required payload here
        String headers = "{...}"; // Add the required headers here

        // When the client sends a POST request "/accounts" with the accounts_body payload
        Response response = given()
                .contentType(ContentType.JSON)
                .body(payload)
                .headers(headers)
                .when()
                .post("/accounts");

        // Then create an account with the specified information
        response.then()
                .assertThat()
                .statusCode(201)
                .body("message", equalTo("Account has been successfully created."));

        // And verify the account created using GET request for "/me"
        given()
                .contentType(ContentType.JSON)
                .headers(headers)
                .when()
                .get("/me")
                .then()
                .assertThat()
                .statusCode(200)
                .body("message", equalTo("Account information retrieved successfully."))
                .body("data.accountId", equalTo(response.jsonPath().get("data.accountId")));
    }
}
