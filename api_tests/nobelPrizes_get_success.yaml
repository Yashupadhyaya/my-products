# ********RoostGPT********

# Test generated by RoostGPT for test testingartillerytest using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /nobelPrizes_get for http method type GET in artillery framework
# RoostTestHash=977dd819cb
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.url1_nobel_API_HOST }}"
  payload:
    path: "nobelPrizes_get_success.csv"
    delimiter: "^|^"
    skipHeader: true

scenarios:
  - name: Verify successful responses for Nobel Prize API requests
    flow:
      - log: "Starting scenario: Verifying Nobel Prize API responses with valid inputs"

      - log: "Executing API request to retrieve Nobel Prizes with pagination and category filter"
      - get:
          url: "/2.1/nobelPrizes?offset={{ offset }}&limit={{ limit }}&nobelPrizeCategory={{ nobelPrizeCategory }}"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 200
          - contentType: "application/json"
          - hasProperty: "nobelPrizes"
          - jmespath:
              path: "nobelPrizes[].awardYear"
              equals: {{ nobelPrizeYear }}
      - think: 2

      - log: "Executing API request to retrieve Nobel Prizes for specific year range and sort"
      - get:
          url: "/2.1/nobelPrizes?nobelPrizeYear={{ nobelPrizeYear }}&yearTo={{ yearTo }}&sort={{ sort }}"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 200
          - contentType: "application/json"
          - hasProperty: "nobelPrizes"
          - jmespath:
              path: "meta.offset"
              equals: {{ offset }}
      - think: 2

      - log: "Executing API request to retrieve Nobel Prizes in CSV format"
      - get:
          url: "/2.1/nobelPrizes?format=csv&csvLang={{ csvLang }}"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 200
          - contentType: "text/csv"
          - hasHeader: "Content-Disposition"
      - think: 2

      - log: "Executing API request with default and missing optional parameters"
      - get:
          url: "/2.1/nobelPrizes"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 200
          - hasProperty: "nobelPrizes"
          - jmespath:
              path: "meta.count"
              matchesRegexp: "[0-9]+"
      - think: 2
