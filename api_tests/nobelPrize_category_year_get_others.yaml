# ********RoostGPT********

# Test generated by RoostGPT for test testingartillerytest using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /nobelPrize/{category}/{year}_get for http method type GET in artillery framework
# RoostTestHash=9818bf6b39
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.url1_nobel_API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 5
  payload:
    path: "nobelPrize_category_year_get_others.csv"
    delimiter: "^|^"
    skipHeader: true

scenarios:
  - name: "Test for Non-Successful API Responses"
    flow:
      - log: "Testing with invalid category type (non-string value)"
      - get:
          url: "/2.1/nobelPrize/1234/2020"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 400
          - hasProperty: "error"
          - hasProperty: "message"
          - hasProperty: "details"
          - contentType: "application/json"
      - think: 2

      - log: "Testing with missing authorization header"
      - get:
          url: "/2.1/nobelPrize/physics/2021"
          headers: {}
      - expect:
          - statusCode: 401
          - hasProperty: "error"
          - contentType: "application/json"
      - think: 2

      - log: "Testing with invalid year format"
      - get:
          url: "/2.1/nobelPrize/chemistry/abcd"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 400
          - hasProperty: "error"
          - hasProperty: "message"
          - hasProperty: "details"
          - contentType: "application/json"
      - think: 2

      - log: "Testing with year below minimum allowed value"
      - get:
          url: "/2.1/nobelPrize/peace/1899"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 400
          - hasProperty: "error"
          - hasProperty: "message"
          - hasProperty: "details"
          - contentType: "application/json"
      - think: 2

      - log: "Testing using an invalid URL"
      - get:
          url: "/2.1/nobelPrizeCategory/physics/2021"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 404
          - hasProperty: "error"
          - contentType: "application/json"
      - think: 2

      - log: "Testing with unsupported media type response"
      - get:
          url: "/2.1/nobelPrize/literature/2018"
          headers:
            Authorization: "Bearer {{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          - statusCode: 406
      - think: 2
