# ********RoostGPT********

# Test generated by RoostGPT for test testingartillerytest using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /nobelPrizes_get for http method type GET in artillery framework
# RoostTestHash=977dd819cb
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.url1_nobel_API_HOST }}"
  payload:
    source: "./nobelPrizes_get_others.csv"
    skipHeader: true
    delimiter: "^|^"
  plugins:
    expect: {}

scenarios:
  - name: "Test API Failure Cases for Nobel Prizes Endpoint"
    flow:
      - log: "Scenario 1: Invalid payload structure test"
      - get:
          url: "/2.1/nobelPrizes?nobelPrizeYear=abcd&limit=@invalid"
          headers:
            Authorization: "{{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          statusCode: 400
          hasProperty: ["error"]
          notHasProperty: ["results"]

      - log: "Scenario 2: Missing required parameters"
      - get:
          url: "/2.1/nobelPrizes?yearTo=2022"
          headers:
            Authorization: "{{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          statusCode: 400
          hasProperty: ["error"]
          notHasProperty: ["results"]

      - think: 2

      - log: "Scenario 3: Invalid URL test"
      - get:
          url: "/2.1/invalidEndpointPath"
          headers:
            Authorization: "{{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          statusCode: 404
          hasProperty: ["error"]

      - think: 2

      - log: "Scenario 4: Invalid Category with query parameters"
      - get:
          url: "/2.1/nobelPrizes?nobelPrizeCategory=invalidCategory"
          headers:
            Authorization: "{{ $processEnvironment.url1_nobel_AUTH_TOKEN }}"
      - expect:
          statusCode: 400
          hasProperty: ["error"]
