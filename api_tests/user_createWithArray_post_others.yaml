# ********RoostGPT********

# Test generated by RoostGPT for test artillery-test-gen using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /user/createWithArray_post for http method type POST in artillery framework
# RoostTestHash=2fceff8367
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 5
      arrivalRate: 1
  plugins:
    expect: {}
  payload:
    path: "user_createWithArray_post_others.csv"
    fields:
      - "username"
      - "firstName"
      - "lastName"
      - "email"
      - "password"
      - "phone"
      - "userStatus"
    options:
      delimiter: "^|^"
    skipHeader: true
  headers:
    api_key: "{{$processEnvironment.AUTH_TOKEN}}"
    
scenarios:
  - name: "Test non-success API responses"
    flow:
      - log: "Start the test case for Invalid URL"
      - post:
          url: "/v2/invalid"
          expect:
            - statusCode: 404
      - think: 5

      - log: "Start the test case for Invalid Payload"
      - post:
          url: "/v2/user/createWithArray"
          json:
            id: "String" 
          expect:
            - statusCode: 400
      - think: 5

      - log: "Start the test case for Unauthorized request"
      - post:
          url: "/v2/user/createWithArray"
          json:
            id: 1
            username: "{{username}}"
            firstName: "{{firstName}}"
            lastName: "{{lastName}}"
            email: "{{email}}"
            password: "{{password}}"
            phone: "{{phone}}"
            userStatus: {{userStatus}}
          headers:
            api_key: "InvalidToken" 
          expect:
            - statusCode: 401
      - think: 5

      - log: "End of Scenario"
